(this.webpackJsonpblog_platzi=this.webpackJsonpblog_platzi||[]).push([[0],{41:function(e,a,t){e.exports=t(72)},46:function(e,a,t){},47:function(e,a,t){},53:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"traerTodos",(function(){return R}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return K})),t.d(n,"cambioUsuarioId",(function(){return L})),t.d(n,"cambioTitulo",(function(){return Q})),t.d(n,"agregar",(function(){return V})),t.d(n,"editar",(function(){return W})),t.d(n,"cambioCheck",(function(){return X})),t.d(n,"eliminar",(function(){return Y})),t.d(n,"limpiarForma",(function(){return Z}));var c=t(0),o=t.n(c),u=t(22),i=t.n(u),s=(t(46),t(47),t(12)),l=t(3),p=function(){return o.a.createElement("nav",{id:"menu"},o.a.createElement(s.b,{to:"/"},"Usuarios"),o.a.createElement(s.b,{to:"/tareas"},"Tareas"))},d=t(14),m=t(15),b=t(17),f=t(16),h=t(5),v=(t(53),function(e){return o.a.createElement("div",{className:"center"},o.a.createElement("div",{className:"lds-spinner"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))}),y=function(e){return o.a.createElement("h2",{className:"center rojo"},e.mensaje)},j=Object(h.b)((function(e){return e.usuariosReducer}))((function(e){return o.a.createElement("div",null,o.a.createElement("table",{className:"tabla"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Correo"),o.a.createElement("th",null,"Enlace"))),o.a.createElement("tbody",null,e.usuarios.map((function(e,a){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null," ",e.name," "),o.a.createElement("td",null," ",e.email," "),o.a.createElement("td",null," ",e.website," "),o.a.createElement("td",null,o.a.createElement(s.b,{to:"/publicaciones/".concat(a)},o.a.createElement("div",{className:"eye-solid icon"}))))})))))})),g=t(4),E=t.n(g),O=t(10),_=t(13),k=t.n(_),x="usuarios_traer_usuarios",w="usuarios_cargando",C="usuarios_error",R=function(){return function(){var e=Object(O.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:w}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/users");case 4:t=e.sent,a({type:x,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error!: ",e.t0.message),a({type:C,payload:"Algo sali\xf3 mal, intente m\xe1s tarde."});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},T=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).ponerContenido=function(){return e.props.cargando?o.a.createElement(v,null):e.props.error?o.a.createElement(y,{mensaje:e.props.error}):o.a.createElement(j,null)},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Usuarios"),this.ponerContenido())}}]),t}(c.Component),I=Object(h.b)((function(e){return e.usuariosReducer}),r)(T),U=Object(h.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return o.a.createElement(y,{mensaje:e.com_error});if(e.com_cargando&&!e.comentarios.length)return o.a.createElement(v,null);return o.a.createElement("ul",null,e.comentarios.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("b",null,o.a.createElement("u",null,e.email)),o.a.createElement("br",null),e.body)})))})),N=t(19),A=t(1),z="publicaciones_actualizar",P=R,D=function(e){return function(){var a=Object(O.a)(E.a.mark((function a(t,r){var n,c,o,u,i,s,l,p;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"publicaciones_cargando"}),n=r().usuariosReducer.usuarios,c=r().publicacionesReducer.publicaciones,o=n[e].id,a.prev=4,a.next=7,k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o));case 7:u=a.sent,i=u.data.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{comentarios:[],abierto:!1})})),s=[].concat(Object(N.a)(c),[i]),t({type:z,payload:s}),l=s.length-1,(p=Object(N.a)(n))[e]=Object(A.a)(Object(A.a)({},n[e]),{},{publicaciones_key:l}),t({type:"usuarios_traer_usuarios",payload:p}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(4),console.log(a.t0.message),t({type:"publicaciones_error",payload:"Publicaciones no disponibles"});case 21:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e,t){return a.apply(this,arguments)}}()},M=function(e,a){return function(t,r){var n=r().publicacionesReducer.publicaciones,c=n[e][a],o=Object(A.a)(Object(A.a)({},c),{},{abierto:!c.abierto}),u=Object(N.a)(n);u[e]=Object(N.a)(n[e]),u[e][a]=o,t({type:z,payload:u})}},F=function(e,a){return function(){var t=Object(O.a)(E.a.mark((function t(r,n){var c,o,u,i,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"comentarios_cargando"}),c=n().publicacionesReducer.publicaciones,o=c[e][a],t.prev=3,t.next=6,k.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id));case 6:u=t.sent,i=Object(A.a)(Object(A.a)({},o),{},{comentarios:u.data}),(s=Object(N.a)(c))[e]=Object(N.a)(c[e]),s[e][a]=i,r({type:"comentarios_actualizar",payload:s}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0),r({type:"comentarios_error",payload:"Comentarios no disponibles."});case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,a){return t.apply(this,arguments)}}()},G=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).ponerUsuario=function(){var a=e.props,t=a.usuariosReducer,r=a.match.params.key;if(t.error)return o.a.createElement(y,{mensaje:t.error});if(!t.usuarios.length||t.cargando)return o.a.createElement(v,null);var n=t.usuarios[r].name;return o.a.createElement(c.Fragment,null,o.a.createElement("h1",null,"Publicaciones de ",n))},e.ponerPublicaciones=function(){var a=e.props,t=a.usuariosReducer,r=a.usuariosReducer.usuarios,n=a.publicacionesReducer,c=a.publicacionesReducer.publicaciones,u=a.match.params.key;if(r.length&&!t.error){if(n.cargando)return o.a.createElement(v,null);if(n.error)return o.a.createElement(y,{mensaje:n.error});if(c.length&&"publicaciones_key"in r[u]){var i=r[u].publicaciones_key;return e.mostrarInfo(c[i],i)}}},e.mostrarInfo=function(a,t){return a.map((function(a,r){return o.a.createElement("div",{key:a.id,className:"pub_titulo",onClick:function(){return e.mostrarComentarios(t,r,a.comentarios)}},o.a.createElement("h2",null,a.title),o.a.createElement("p",null,a.body),a.abierto?o.a.createElement(U,{comentarios:a.comentarios}):"")}))},e.mostrarComentarios=function(a,t,r){e.props.abrirCerrar(a,t),r.length||e.props.traerComentarios(a,t)},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(E.a.mark((function e(){var a,t,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,t=a.usuariosTraerTodos,r=a.publicacionesTraerPorUsuario,n=a.match.params.key,this.props.usuariosReducer.usuarios.length){e.next=4;break}return e.next=4,t();case 4:if(!this.props.usuariosReducer.error){e.next=6;break}return e.abrupt("return");case 6:"publicaciones_key"in this.props.usuariosReducer.usuarios[n]||r(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),t}(c.Component),J={usuariosTraerTodos:P,publicacionesTraerPorUsuario:D,abrirCerrar:M,traerComentarios:F},B=Object(h.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),J)(G),S=t(24),q="tareas_guardar",H="tareas_limpiar",K=function(){return function(){var e=Object(O.a)(E.a.mark((function e(a){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"tareas_cargando"}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/todos");case 4:t=e.sent,r={},t.data.map((function(e){return r[e.userId]=Object(A.a)(Object(A.a)({},r[e.userId]),{},Object(S.a)({},e.id,Object(A.a)({},e)))})),a({type:"tareas_traer",payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error!: ",e.t0.message),a({type:"tareas_error",payload:"Informacion de tareas no disponibles."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()},L=function(e){return function(a){a({type:"tareas_cambio_usuario_id",payload:e})}},Q=function(e){return function(a){a({type:"tareas_cambio_titulo",payload:e})}},V=function(e){return function(){var a=Object(O.a)(E.a.mark((function a(t){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.post("https://jsonplaceholder.typicode.com/todos",e);case 4:r=a.sent,console.log(r.data),t({type:q}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Intente mas tarde"});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},W=function(e){return function(){var a=Object(O.a)(E.a.mark((function a(t){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.put("https://jsonplaceholder.typicode.com/todos".concat(e.id),e);case 4:a.sent,t({type:q}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"tareas_error",payload:"Intente mas tarde"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},X=function(e,a){return function(t,r){var n=r().tareasReducer.tareas,c=n[e][a],o=Object(A.a)({},n);o[e]=Object(A.a)({},n[e]),o[e][a]=Object(A.a)(Object(A.a)({},n[e][a]),{},{completed:!c.completed}),t({type:"tareas_actualizar",payload:o})}},Y=function(e){return function(){var a=Object(O.a)(E.a.mark((function a(t){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.delete("https://jsonplaceholder.typicode.com/todos".concat(e));case 4:a.sent,t({type:"tareas_traer",payload:{}}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible"});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},Z=function(){return function(e){e({type:H})}},$=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).mostrarContenido=function(){var a=e.props,t=a.tareas,r=a.cargando,n=a.error;return r?o.a.createElement(v,null):n?o.a.createElement(y,{mensaje:n}):Object.keys(t).map((function(a){return o.a.createElement("div",{key:a},o.a.createElement("h2",null,"Usuario ",a),o.a.createElement("div",{className:"contenedor_tareas"},e.ponerTareas(a)))}))},e.ponerTareas=function(a){var t=e.props,r=t.tareas,n=t.cambioCheck,c=t.eliminar,u=Object(A.a)({},r[a]);return Object.keys(u).map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("input",{type:"checkbox",defaultChecked:u[e].completed,onChange:function(){return n(a,e)}}),u[e].title,o.a.createElement("button",{className:"m_left"},o.a.createElement(s.b,{to:"/tareas/guardar/".concat(a,"/").concat(e)},"Editar")),o.a.createElement("button",{className:"m_left",onClick:function(){return c(e)}},"Eliminar"))}))},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,a=e.tareas,t=e.cargando,r=e.traerTodas;Object.keys(a).length||t||r()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(s.b,{to:"/tareas/guardar"},"Agregar"),this.mostrarContenido())}}]),t}(c.Component),ee=Object(h.b)((function(e){return e.tareasReducer}),n)($),ae=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).cambioUsuarioId=function(a){e.props.cambioUsuarioId(a.target.value)},e.cambioTitulo=function(a){e.props.cambioTitulo(a.target.value)},e.guardar=function(){var a=e.props,t=a.match.params,r=t.usu_id,n=t.tar_id,c=a.tareas,o=a.usuario_id,u=a.titulo,i=a.agregar,s=a.editar,l={userId:o,title:u,completed:!1};if(r&&n){var p=c[r][n];s(Object(A.a)(Object(A.a)({},l),{},{completed:p.completed,id:p.id}))}else i(l)},e.deshabilitar=function(){var a=e.props,t=a.usuario_id,r=a.titulo;return!!a.cargando||(!t||!r)},e.mostrarAccion=function(){var a=e.props,t=a.error;return a.cargando?o.a.createElement(v,null):t?o.a.createElement(y,{mensaje:t}):void 0},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.match.params,t=a.usu_id,r=a.tar_id,n=e.tareas,c=e.cambioUsuarioId,o=e.cambioTitulo,u=e.limpiarForma;if(t&&r){var i=n[t][r];c(i.userId),o(i.title)}else u()}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.regresar?o.a.createElement(l.a,{to:"/tareas"}):"",o.a.createElement("h1",null,"Guardar Tarea"),"Usuario id:",o.a.createElement("input",{type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),o.a.createElement("br",null),o.a.createElement("br",null),"Titulo:",o.a.createElement("input",{value:this.props.titulo,onChange:this.cambioTitulo}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.guardar,disabled:this.deshabilitar()},"Guardar"),this.mostrarAccion())}}]),t}(o.a.Component),te=Object(h.b)((function(e){return e.tareasReducer}),n)(ae),re=function(){return o.a.createElement(s.a,null,o.a.createElement(p,null),o.a.createElement("div",{className:"margen"},o.a.createElement(l.b,{exact:!0,path:"/",component:I}),o.a.createElement(l.b,{exact:!0,path:"/tareas",component:ee}),o.a.createElement(l.b,{exact:!0,path:"/publicaciones/:key",component:B}),o.a.createElement(l.b,{exact:!0,path:"/tareas/guardar",component:te}),o.a.createElement(l.b,{exact:!0,path:"/tareas/guardar/:usu_id/:tar_id",component:te})))},ne=t(18),ce=t(40),oe={usuarios:[],cargando:!1,error:""},ue={publicaciones:[],cargando:!1,error:""},ie={tareas:{},cargando:!1,error:"",usuario_id:"",titulo:"",regresar:!1},se=Object(ne.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(A.a)(Object(A.a)({},e),{},{usuarios:a.payload,cargando:!1,error:""});case w:return Object(A.a)(Object(A.a)({},e),{},{cargando:!0});case C:return Object(A.a)(Object(A.a)({},e),{},{error:a.payload,cargando:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(A.a)(Object(A.a)({},e),{},{publicaciones:a.payload,cargando:!1,error:""});case"publicaciones_cargando":return Object(A.a)(Object(A.a)({},e),{},{cargando:!0});case"publicaciones_error":return Object(A.a)(Object(A.a)({},e),{},{error:a.payload,cargando:!1});case"comentarios_actualizar":return Object(A.a)(Object(A.a)({},e),{},{publicaciones:a.payload,com_cargando:!1,com_error:""});case"comentarios_cargando":return Object(A.a)(Object(A.a)({},e),{},{com_cargando:!0});case"comentarios_error":return Object(A.a)(Object(A.a)({},e),{},{com_error:a.payload,com_cargando:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"tareas_traer":return Object(A.a)(Object(A.a)({},e),{},{tareas:a.payload,cargando:!1,error:"",regresar:!1});case"tareas_cargando":return Object(A.a)(Object(A.a)({},e),{},{cargando:!0});case"tareas_error":return Object(A.a)(Object(A.a)({},e),{},{error:a.payload,cargando:!1});case"tareas_cambio_usuario_id":return Object(A.a)(Object(A.a)({},e),{},{usuario_id:a.payload});case"tareas_cambio_titulo":return Object(A.a)(Object(A.a)({},e),{},{titulo:a.payload});case q:return Object(A.a)(Object(A.a)({},e),{},{tareas:{},cargando:!1,error:"",regresar:!0,usuario_id:"",titulo:""});case"tareas_actualizar":return Object(A.a)(Object(A.a)({},e),{},{tareas:a.payload});case H:return Object(A.a)(Object(A.a)({},e),{},{usuario_id:"",titulo:""});default:return e}}}),le=Object(ne.d)(se,{},Object(ne.a)(ce.a));i.a.render(o.a.createElement(h.a,{store:le},o.a.createElement(re,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.f864dfd6.chunk.js.map